<!DOCTYPE html>
<html lang="en">
	<head>
		<title>
			Wii_System_Menu_Themer
		</title>
		<meta charset="utf-8">
		<meta name="author" content="Naythan Morey">
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
		<link rel="stylesheet" href="index.css" type="text/css; charset=utf-8">
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<link rel="icon" href="img/favicon.ico" type="image/ico" size="16x16">
		<script src="index.js" type="text/javascript"></script>
    <!--
	//   --------          save for wii version       --------------------
		<script>
			function getAllUrlParams(url) {

		  // get query string from url (optional) or window
		  var queryString = url ? url.split('?')[1] : window.location.search.slice(1);

		  // we'll store the parameters here
		  var obj = {};

		  // if query string exists
		  if (queryString) {

			// stuff after # is not part of query string, so get rid of it
			queryString = queryString.split('#')[0];

			// split our query string into its component parts
			var arr = queryString.split('&');

			for (var i = 0; i < arr.length; i++) {
			  // separate the keys and the values
			  var a = arr[i].split('=');

			  // set parameter name and value (use 'true' if empty)
			  var paramName = a[0];
			  var paramValue = typeof (a[1]) === 'undefined' ? true : a[1];

			  // (optional) keep case consistent
			  paramName = paramName.toLowerCase();
			  if (typeof paramValue === 'string') paramValue = paramValue.toLowerCase();

			  // if the paramName ends with square brackets, e.g. colors[] or colors[2]
			  if (paramName.match(/\[(\d+)?\]$/)) {

				// create key if it doesn't exist
				var key = paramName.replace(/\[(\d+)?\]/, '');
				if (!obj[key]) obj[key] = [];

				// if it's an indexed array e.g. colors[2]
				if (paramName.match(/\[\d+\]$/)) {
				  // get the index value and add the entry at the appropriate position
				  var index = /\[(\d+)\]/.exec(paramName)[1];
				  obj[key][index] = paramValue;
				} else {
				  // otherwise add the value to the end of the array
				  obj[key].push(paramValue);
				}
			  } else {
				// we're dealing with a string
				if (!obj[paramName]) {
				  // if it doesn't exist, create property
				  obj[paramName] = paramValue;
				} else if (obj[paramName] && typeof obj[paramName] === 'string'){
				  // if property does exist and it's a string, convert it to an array
				  obj[paramName] = [obj[paramName]];
				  obj[paramName].push(paramValue);
				} else {
				  // otherwise add the property
				  obj[paramName].push(paramValue);
				}
			  }
			}
		  }

		  return obj;
		}
			wiitheme = getAllUrlParams(document.url);
			if(wiitheme.mymfile == "")
				alert("Nope \n");
			else
			alert(wiitheme.mymfile);
			alert(wiitheme.version);
			alert(wiitheme.region);
		</script>
		-->
	</head><!--onmousemove="showCoords(event)"-->
	<body id="body" onload="updatepageloads(1)" ></body>
		<div id="themerbody"  class="">
		<div id="pageheadercontainer">
		<div class="pageHeader smallcaps glow text-center border-white border-radius border-white-shadow background-black" id="pageHeader">
			<h1>
				<span id="letter1" class="letters" >W</span>
				<span id="letter2" class="letters" >i</span>
				<span id="letter3" class="letters" >i</span>
				&nbsp;&nbsp;
				<span id="letter4" class="letters" >T</span>
				<span id="letter5" class="letters" >h</span>
				<span id="letter6" class="letters" >e</span>
				<span id="letter7" class="letters" >m</span>
				<span id="letter8" class="letters" >e</span>
				<span id="letter9" class="letters" >r</span>
			</h1> 
			<div id="nav">
				<button title="Theme preview images" class="navinner text-white background-black border-white border-radius border-white-shadow " onclick="nav(1)" tabindex="1"><a id="nav_preview">Preview Themes</a></button>
				<button title="Build a custom wii system menu theme" class="navinner text-white background-black border-white border-radius border-white-shadow " onclick="nav(4)" tabindex="4"><a id="buildtheme">Build A Theme</a></button>
				<button title="Links to helpful websites" class="navinner text-white background-black border-white border-radius border-white-shadow " onclick="nav(5)" tabindex="9"><a id="help">Helpful Links</a></button>
				<button title="Learn about wii themer" class="navinner text-white background-black border-white border-radius border-white-shadow " onclick="nav(2)" tabindex="2"><a id="about">About Wii Themer</a></button>
				<button title="Contact owner by email" class="navinner text-white background-black border-white border-radius border-white-shadow " onclick="nav(3)"tabindex="3"><a id="contact" >Contact Us</a></button>
			</div>
		</div>
		</div>
		<div class="text-center border-radius border-text-shadow border-black color-black background-sand" id="infocontainer">
			<h1 class="text-blue smallcaps">Wii Menu Themes</h1><hr></hr><p>This site will help you build a Theme(.csm file) to install on the Nintendo Wii .</p><br></br><p class='text-center'><span class="text-red warninglight"><b><i><em>WARNING :</b></i></em></span> This file can <b><em>brick</em></b> your wii !!<br><br>Proceed at your <b><em>Own</em></b> risk !!</p><br></br><br></br><button title="Return to Main Screen" id="returnabout" class="text-blue border-white border-radius border-shadow-white background-black text-white" onclick="mainMenu()" tabindex="5">Return</button><button title="Click to see website stats ." id="statsbutton" class="text-blue hidden border-white border-radius border-shadow-white background-black text-white" onclick="showstats()" tabindex="7">Website Stats</button>
		</div>	
		<div id="linksmodal" class="linksmodal">	
			<div class="linksmodal-content">
				<div class="modal-header glow">
					<span class="close">&times;</span>
					<h2 class="smallcaps">Helpful Links</h2>
				</div>
				<div class="modal-body">
					<br></br>
					<a target="blank"href='https://gbatemp.net/threads/wii-theme-team-creations.260327/'>GBAtemp Wii Theme Team</a><br></br>
					<a target="blank" href="https://wiibrew.org/wiki/System_Menu">Wii Brew</a><br></br>
					<a target="blank" href="https://www.youtube.com/user/McDiddy81/videos">Diddy81 Youtube Channel</a><br></br>
					<a target="blank" href="https://gbatemp.net/threads/wii-themes.174895/">GBAtemp Frylok's Themes</a><br></br>
					<a target="blank" href=""></a><br></br>
				</div>
			</div>
		</div>
		<div id="statsmodal" class="statsmodal">	
			<div class="statsmodal-content">
				<div class="modal-header glow">
					<span class="close">&times;</span>
					<h2 class="smallcaps">Wii Themer Site Stats</h2>
				</div>
				<div class="modal-body">
					<p>Page Loads - <span id="pageloadcount"></span></p>
					<p>Themes Served - <span id="themedlcount"></span></p>
				</div>
			</div>
		</div>
		<div id="contactmodal" class="contactmodal">
			<div class="contactmodal-content">
				<div class="modal-header glow">
					<span class="close">&times;</span>
					<h2 class="smallcaps">Contact Info</h2>
				</div>
				<div class="modal-body">
					<p>Email Owner :<a href="mailto:nayte1976@gmail.com"> Naythan Morey<i>   nayte1976@gmail.com</i></a></p>
				</div>
			</div>
		</div>
		<div id="buildingcontainer" class="hidden text-white background-black border-white border-radius border-white-shadow">
			<div id="building">
				
					
					<label for="menuversion" id="menuversionlabel" class="border-white border-radius border-white-shadow">Select your System Menu Version :</label>
					<select class="" name="menuversion" id="menuversion" onchange="getselectedversion()" tabindex="1" ></select>
					<br></br>
					<label for="region" id="regionlabel" class="border-white border-radius border-white-shadow">Select your Region :</label>
					<select class="" name="region" id="region" onchange="getselectedregion()" tabindex="2"></select>
					<br></br>
					<label for="theme" id="themelabel"class="border-white border-radius border-white-shadow">Select a Custom Theme :</label>
					<select name="theme" id="theme" onchange="getselectedtheme()" tabindex="3">	</select>
					<br></br>
					<label for="option" id="optionlabel" class="border-white border-radius border-white-shadow"><b><i>Optional</i></b> - Select an Option :</label>
					<input type="radio" name="option" id="option" value="fastspin">Fast Spin Channels</input>
					<input type="radio" name="option" id="option" value="spin">Spin Channels</input>
					<input type="radio" name="option" id="option" value="nospin" checked>No Spin Channels</input>
					
					<!--  onchange="getfileinfo()" onclick="getfileinfo()" -->
					
					
					<button title="Return to Main Screen" id="return" class="hidden border-white border-radius border-white-shadow background-black text-white" onclick="mainMenu()" tabindex="5">Return</button>
					<button title="Build and Download Theme" id="continue" class="hidden text-white background-black border-white border-radius border-white-shadow glow" onclick="buildThemestart()" tabindex="6">Get Theme</button>
				<form class="hidden"id="uploadform" method="POST" action="upload.php" enctype="multipart/form-data"><!---->
					<div id="fileuploadmessage" class="hidden border-white border-radius border-white-shadow background-black text-white">message</div>
					<label for="appfile" id="appfilelabel" class="border-white border-radius border-white-shadow background-black text-white">Please select the 000000XX file you want to use ...</label>
					<input type="file" name="appfile" id="appfile" class="border-white border-radius border-white-shadow background-black text-white" required></input>
					<button title="Upload File" id="uploadbtn" value="upload" class="border-white border-radius border-white-shadow background-black text-white">Upload File</button>
				</form>
				<!-- onclick="uploadfile()"-->
				<div id="previewcontainer" class="hidden">
					<img class="preview" id="preview1" src="" alt="preview picture 1"></img>
					<div id="downloadtext" class="hidden text-center border-white border-radius border-white-shadow background-black text-white glow"></div>
				</div>
			</div>
			
		</div>
		<div id="themepreviewcontainer" class="hidden">
			<div id="imagearrowcont" style="display:flex;flex-flow:column;">
			<div id="themeimgcontainer" class="border-black3 border-radius border-black-shadow">
				<img id="themeimg" src="" alt="theme preview image" style="width:400px;height:400px;" ></img>
				<img id="leftarrow" class="arrows background-black" onclick="previewcontrols(-1)" src="img/arrow.png" alt="left control arrow picture" style="width:75px;height:75px;"></img>
				<img id="rightarrow" class="arrows background-black" onclick="previewcontrols(1)" src="img/arrow.png" alt="right control arrow picture" style="width:75px;height:75px;"></img>
			</div>
			<div id="themedetails" class="text-white background-black border-black border-radius border-black-shadow">
				<h3 class="text-blue text-center">Batman</h3><hr><p class="text-center">By The Wii Theme Team</p><p class="text-center">Press A Screen</p><p class="text-center">Watch the video for a demonstration .</p>
			</div>
			</div>
			<div id="themevideocontainer" class="border-black3 border-radius border-black-shadow" >
				<iframe id="videoframe" class="border-radius" style="width:600px;height:600px;" src="" title="" frameborder="0"  allowfullscreen></iframe>
			</div>
		</div>
		<button title="Return to Main Screen" id="returnpreview" class="hidden border-white border-radius border-white-shadow background-black text-white" onclick="mainMenu()" tabindex="8">Return</button>
		<!--<img id="wiicursor" src="img/wiicursor/cursor1.png" alt="wii cursor" style="height:75px;width:75px;"></img>-->
		</div>
	</body>
	<script>
		$(document).ready(function() {
			loadunloadthemename(true);
			loadunloadregionoptions(true);
			loadversion(true);
			//heightofscreen = innerHeight - 30;
			//widthofscreen = innerWidth - 50;
			//let g = document.getElementById("themerbody");
			//g.style.height = heightofscreen + "px";
			//g.style.width = widthofscreen + "px";
			$("#uploadform").submit(function(event){
				$.ajax( {
					url: 'upload.php',
					type: 'POST',
					data: new FormData( this ),
					processData: false,
					contentType: false,
					success: function(result){
						console.log(result);
						$("#fileuploadmessage").html(result);
						$("#fileuploadmessage").show();
					}
				} );
				event.preventDefault();
			});
		});
		function showCoords(event) {
		  var cX = event.clientX;
		  var sX = event.screenX;
		  var cY = event.clientY;
		  var sY = event.screenY;
		  var coords1 = "client - X: " + cX + ", Y coords: " + cY;
		 // var coords2 = "screen - X: " + sX + ", Y coords: " + sY;
		  var pointerx = document.getElementById("wiicursor");
		  pointerx.style.top = cY + "px";
		  pointerx.style.left = cX + "px";
		}
	</script>
</html>