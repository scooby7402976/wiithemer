<!DOCTYPE html>
<html lang="en">
	<head>
		<title>
			Wii_System_Menu_Themer
		</title>
		<meta charset="utf-8">
		<meta name="author" content="Naythan Morey">
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
		<link rel="stylesheet" href="style.css" type="text/css; charset=utf-8">
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<link rel="icon" href="img/favicon.ico" type="image/ico" size="16x16">
		<script src="index.js" type="text/javascript"></script>
    <!--
	//   --------          save for wii version       --------------------
		<script>
			function getAllUrlParams(url) {

		  // get query string from url (optional) or window
		  var queryString = url ? url.split('?')[1] : window.location.search.slice(1);

		  // we'll store the parameters here
		  var obj = {};

		  // if query string exists
		  if (queryString) {

			// stuff after # is not part of query string, so get rid of it
			queryString = queryString.split('#')[0];

			// split our query string into its component parts
			var arr = queryString.split('&');

			for (var i = 0; i < arr.length; i++) {
			  // separate the keys and the values
			  var a = arr[i].split('=');

			  // set parameter name and value (use 'true' if empty)
			  var paramName = a[0];
			  var paramValue = typeof (a[1]) === 'undefined' ? true : a[1];

			  // (optional) keep case consistent
			  paramName = paramName.toLowerCase();
			  if (typeof paramValue === 'string') paramValue = paramValue.toLowerCase();

			  // if the paramName ends with square brackets, e.g. colors[] or colors[2]
			  if (paramName.match(/\[(\d+)?\]$/)) {

				// create key if it doesn't exist
				var key = paramName.replace(/\[(\d+)?\]/, '');
				if (!obj[key]) obj[key] = [];

				// if it's an indexed array e.g. colors[2]
				if (paramName.match(/\[\d+\]$/)) {
				  // get the index value and add the entry at the appropriate position
				  var index = /\[(\d+)\]/.exec(paramName)[1];
				  obj[key][index] = paramValue;
				} else {
				  // otherwise add the value to the end of the array
				  obj[key].push(paramValue);
				}
			  } else {
				// we're dealing with a string
				if (!obj[paramName]) {
				  // if it doesn't exist, create property
				  obj[paramName] = paramValue;
				} else if (obj[paramName] && typeof obj[paramName] === 'string'){
				  // if property does exist and it's a string, convert it to an array
				  obj[paramName] = [obj[paramName]];
				  obj[paramName].push(paramValue);
				} else {
				  // otherwise add the property
				  obj[paramName].push(paramValue);
				}
			  }
			}
		  }

		  return obj;
		}
			wiitheme = getAllUrlParams(document.url);
			if(wiitheme.mymfile == "")
				alert("Nope \n");
			else
			alert(wiitheme.mymfile);
			alert(wiitheme.version);
			alert(wiitheme.region);
		</script>
		-->
	</head>
	<body onload="updatepageloads(1)">
		<div class="pageHeader glow" id="pageHeader">
			<p><h1>
				Wii Themer
			</h1><span title="Total Themes Served" id="themedlcounttext">Themes Served:<span id="themedlcount">0</span></span></p>
		</div>
		<div class="nav" id="nav">
			<button title="Theme preview images" class="navinner" onclick="nav(1)" tabindex="1"><a id="nav_preview">Preview Themes</a></button>
			<button title="Build a custom wii system menu theme" class="navinner" onclick="nav(4)" tabindex="4"><a id="buildtheme">Build A Theme</a></button>
			<button title="Learn about wii themer" class="navinner" onclick="nav(2)" tabindex="2"><a id="about">About Wii Themer</a></button>
			<button title="Contact owner by email" class="navinner" onclick="nav(3)"tabindex="3"><a id="contact" >Contact Us</a></button>
		</div>
		<div id="buildingcontainer">
			<div id="building">
				<label for="theme" >
					Select a Custom Theme :
				</label>
				<select name="theme" id="theme" onchange="getselectedtheme()" tabindex="1">
					
				</select>
				<br></br>
				<label for="menuversion">
					Select your System Menu Version :
				</label>
				<select name="menuversion" id="menuversion" onchange="getselectedversion()" tabindex="2">
					
					
				</select>
				<br></br>
				<label for="region">
					Select your Region :
				</label>
				<select name="region" id="region" onchange="getselectedregion()" tabindex="3"></select>
			</div>
		</div>
		<div id="themescontainer">
			<div id="flipcontainer">
				<div id="flipper1">
					<div id="innerflip1">
						<div id="flipfront1">
							<img class="themeimg" id="themeimg1" src="img/qmark.png" alt="wii theme picture1" style="width:485px;height:275px;"></img>
						</div>
						<div id="flipback1">
							Details here
						</div>
					</div>
				</div>
				<div id="flipper2">
					<div id="innerflip2">
						<div id="flipfront2">
							<img class="themeimg" id="themeimg2" src="img/qmark.png" alt="wii theme picture2" style="width:485px;height:275px;"></img>
						</div>
						<div id="flipback2">
							Details here
						</div>
					</div>
				</div>
				<div id="flipper3">
					<div id="innerflip3">
						<div id="flipfront3">
							<img class="themeimg" id="themeimg3" src="img/qmark.png" alt="wii theme picture3" style="width:485px;height:275px;"></img>
						</div>
						<div id="flipback3">
							Details here
						</div>
					</div>
				</div>
				<div id="flipper4">
					<div id="innerflip4">
						<div id="flipfront4">
							<img class="themeimg" id="themeimg4" src="img/qmark.png" alt="wii theme picture4" style="width:485px;height:275px;"></img>
						</div>
						<div id="flipback4">
							Details here
						</div>
					</div>
				</div>
			</div>
		</div>
		<img id="leftarrow" class="arrows" onclick="previewcontrols(-1)" src="img/arrow.png" alt="left control arrow picture" style="width:75px;height:50px;"></img>
		<img id="rightarrow" class="arrows" onclick="previewcontrols(1)" src="img/arrow.png" alt="right control arrow picture" style="width:75px;height:50px;"></img>
		<button title="Return to Main Screen" id="return" onclick="mainMenu()" tabindex="4">Return</button>
		<button title="Build and Download Theme" id="continue" onclick="buildThemestart()" tabindex="5">Get Theme</button>
		<button title="Click to see website stats ." id="statsbutton" onclick="showstats()">Website Stats</button>
		<div id="infocontainer">
			<h2>Wii Menu Themes</h2>
			<p>This site will help you build a Theme(.csm file) to install on the Nintendo Wii .</p>
			<p><b><em>WARNING :</b></em> this file can brick your wii . Proceed at your own risk .</p>
		</div>
		<div id="previewcontainer">
			<img class="preview" id="preview1" src="" alt="preview picture 1"></img>
			<img class="preview" id="preview2" src="" alt="preview picture 2"></img>
			<img class="preview" id="preview3" src="" alt="preview picture 3"></img>
		</div>
		<div id="downloadtext">
			
		</div>
		<label for="appfile" id="appfilelabel">Please select the 000000XX file you want to use ...</label><br></br>
		<input type="file" name="appfile" id="appfile" required onchange="getfileinfo()" onclick="getfileinfo()"></input>
		
	</body>
	<script>
		for (let i = 0; i < 83; i++) { 
			$('#theme').append($('<option>',
			{
				value: i,
				text : themeName[i] 
			}
			));
			//if(themeName[i] == "The Evil Dead")
			//alert(i);
		}
		for(let i = 0;i < 5; i++) {
			$('#region').append($('<option>',
			{
				value: i,
				text : Region[i] 
			}
			));
		}
		for(let i = 0; i < 5; i++) { 
			$('#menuversion').append($('<option>',
			{
				value: i,
				text : version[i] 
			}
			));
		}
	</script>
</html>